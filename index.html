<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>甘特圖規劃工具</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📊 甘特圖規劃工具</h1>
            <p>專案時程視覺化管理</p>
        </div>

        <div class="input-section">
            <div class="form-grid">
                <div class="form-group">
                    <label>任務名稱</label>
                    <input type="text" id="taskName" placeholder="輸入任務名稱">
                </div>
                <div class="form-group">
                    <label>開始日期</label>
                    <input type="date" id="startDate">
                </div>
                <div class="form-group">
                    <label>結束日期</label>
                    <input type="date" id="endDate">
                </div>
            </div>
            
            <div style="display: flex; gap: 20px; flex-wrap: wrap; align-items: flex-end; margin-top: 15px;">
                <div class="form-group" style="flex: 1; min-width: 300px;">
                    <label>快速選擇時長</label>
                    <div class="duration-options">
                        <button class="duration-btn" data-days="7">1週</button>
                        <button class="duration-btn" data-days="14">2週</button>
                        <button class="duration-btn" data-days="21">3週</button>
                        <button class="duration-btn" data-days="30">1個月</button>
                        <button class="duration-btn" data-days="60">2個月</button>
                        <button class="duration-btn" data-days="90">3個月</button>
                    </div>
                </div>

                <div class="form-group" style="flex: 1; min-width: 300px;">
                    <label>選擇顏色</label>
                    <div class="color-options">
                        <div class="color-btn active" data-color="#667eea,#764ba2" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);" title="紫藍漸層"></div>
                        <div class="color-btn" data-color="#f093fb,#f5576c" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);" title="粉紅漸層"></div>
                        <div class="color-btn" data-color="#4facfe,#00f2fe" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);" title="天藍漸層"></div>
                        <div class="color-btn" data-color="#43e97b,#38f9d7" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);" title="綠色漸層"></div>
                        <div class="color-btn" data-color="#fa709a,#fee140" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);" title="橘粉漸層"></div>
                        <div class="color-btn" data-color="#a8edea,#fed6e3" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);" title="淺藍粉漸層"></div>
                        <div class="color-btn" data-color="#ff9a56,#ff6a88" style="background: linear-gradient(135deg, #ff9a56 0%, #ff6a88 100%);" title="橘紅漸層"></div>
                        <div class="color-btn" data-color="#ffecd2,#fcb69f" style="background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);" title="奶茶漸層"></div>
                        <div class="color-btn" data-color="#ff0844,#ffb199" style="background: linear-gradient(135deg, #ff0844 0%, #ffb199 100%);" title="紅橘漸層"></div>
                    </div>
                </div>

                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <button class="btn-primary" onclick="addTask()">➕ 新增任務</button>
                    <button class="btn-cancel" onclick="clearForm()" style="display: none;">✕ 取消編輯</button>
                </div>
            </div>

            <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #e0e0e0;">
                <label style="font-weight: 600; margin-bottom: 10px; display: block; color: #333;">資料管理</label>
                <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                    <button class="btn-export" onclick="exportData()">💾 匯出JSON</button>
                    <label class="btn-import">
                        📂 匯入JSON
                        <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importData(event)">
                    </label>
                    <button class="btn-export" onclick="exportImage()">📸 匯出圖片</button>
                    <button class="btn-cancel" onclick="clearAllData()" style="margin-top: 0;">🗑️ 清除所有資料</button>
                </div>
                <p style="margin-top: 10px; font-size: 0.85em; color: #666;">💡 提示：您的任務會自動暫時保存在瀏覽器中，重新整理頁面不會立即遺失資料，但還是建議製作完成後匯出JSON備份</p>
            </div>
        </div>

        <div class="chart-container">
            <div id="ganttChart" class="gantt-wrapper">
                <div class="empty-state">
                    <h3>尚無任務</h3>
                    <p>請在上方新增第一個任務</p>
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
